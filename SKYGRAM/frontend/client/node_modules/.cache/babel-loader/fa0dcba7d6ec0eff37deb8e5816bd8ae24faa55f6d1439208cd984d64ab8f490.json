{"ast":null,"code":"var _jsxFileName = \"/Users/jennirivera/Desktop/Development/code/phase-5/flygram/SKYGRAM/frontend/client/src/context/AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from 'react';\nimport { decode } from 'jwt-decode';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport default AuthContext;\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  let [user, setUser] = useState(null);\n  let [authTokens, setAuthTokens] = useState(null);\n  const navigate = useNavigate();\n  let loginUser = async e => {\n    e.preventDefault();\n    const response = await fetch('http://127.0.0.1:8000/auth/tlogin/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: e.target.username.value,\n        password: e.target.password.value\n      })\n    });\n    let data = await response.json();\n    if (data) {\n      localStorage.setItem('authTokens', JSON.stringify(data));\n      setAuthTokens(data);\n      setUser(jwtDecode(data.access));\n      navigate('/');\n    } else {\n      alert('Something went wrong while loggin in the user!');\n    }\n  };\n  let logoutUser = e => {\n    e.preventDefault();\n  };\n  let contextData = {\n    user: user,\n    authTokens: authTokens,\n    loginUser: loginUser,\n    logoutUser: logoutUser\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: contextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthProvider, \"nH7791432MqbnJgQLJuAp1QJxeI=\", false, function () {\n  return [useNavigate];\n});\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","decode","useNavigate","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","user","setUser","authTokens","setAuthTokens","navigate","loginUser","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","username","target","value","password","data","json","localStorage","setItem","jwtDecode","access","alert","logoutUser","contextData","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jennirivera/Desktop/Development/code/phase-5/flygram/SKYGRAM/frontend/client/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useState } from 'react'\nimport { decode } from 'jwt-decode';\nimport { useNavigate } from 'react-router-dom'\n\nconst AuthContext = createContext()\n\nexport default AuthContext;\n\nexport const AuthProvider = ({children}) => {\n\n    let [user, setUser] = useState(null)\n    let [authTokens, setAuthTokens] = useState(null)\n\n    const navigate = useNavigate()\n\n    let loginUser = async (e) => {\n        e.preventDefault()\n        const response = await fetch('http://127.0.0.1:8000/auth/tlogin/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({username: e.target.username.value, password: e.target.password.value })\n        });\n\n        let data = await response.json();\n\n        if(data){\n            localStorage.setItem('authTokens', JSON.stringify(data));\n            setAuthTokens(data)\n            setUser(jwtDecode(data.access))\n            navigate('/')\n        } else {\n            alert('Something went wrong while loggin in the user!')\n        }\n    }\n\n    let logoutUser = (e) => {\n        e.preventDefault()\n    }\n\n    let contextData = {\n        user: user,\n        authTokens: authTokens,\n        loginUser: loginUser,\n        logoutUser: logoutUser,\n    }\n\n    return(\n        <AuthContext.Provider value={contextData}>\n            {children}\n        </AuthContext.Provider>\n    )\n}"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,MAAM,QAAQ,YAAY;AACnC,SAASC,WAAW,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,eAAeM,WAAW;AAE1B,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAExC,IAAI,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACpC,IAAI,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAMa,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,IAAIY,SAAS,GAAG,MAAOC,CAAC,IAAK;IACzBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;MAC/DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACC,QAAQ,EAAET,CAAC,CAACU,MAAM,CAACD,QAAQ,CAACE,KAAK;QAAEC,QAAQ,EAAEZ,CAAC,CAACU,MAAM,CAACE,QAAQ,CAACD;MAAM,CAAC;IAChG,CAAC,CAAC;IAEF,IAAIE,IAAI,GAAG,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;IAEhC,IAAGD,IAAI,EAAC;MACJE,YAAY,CAACC,OAAO,CAAC,YAAY,EAAET,IAAI,CAACC,SAAS,CAACK,IAAI,CAAC,CAAC;MACxDhB,aAAa,CAACgB,IAAI,CAAC;MACnBlB,OAAO,CAACsB,SAAS,CAACJ,IAAI,CAACK,MAAM,CAAC,CAAC;MAC/BpB,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,MAAM;MACHqB,KAAK,CAAC,gDAAgD,CAAC;IAC3D;EACJ,CAAC;EAED,IAAIC,UAAU,GAAIpB,CAAC,IAAK;IACpBA,CAAC,CAACC,cAAc,CAAC,CAAC;EACtB,CAAC;EAED,IAAIoB,WAAW,GAAG;IACd3B,IAAI,EAAEA,IAAI;IACVE,UAAU,EAAEA,UAAU;IACtBG,SAAS,EAAEA,SAAS;IACpBqB,UAAU,EAAEA;EAChB,CAAC;EAED,oBACI/B,OAAA,CAACC,WAAW,CAACgC,QAAQ;IAACX,KAAK,EAAEU,WAAY;IAAA7B,QAAA,EACpCA;EAAQ;IAAA+B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAAAjC,EAAA,CA7CYF,YAAY;EAAA,QAKJJ,WAAW;AAAA;AAAAwC,EAAA,GALnBpC,YAAY;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}